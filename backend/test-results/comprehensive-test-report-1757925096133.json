{
  "timestamp": "2025-09-15T08:31:36.132Z",
  "totalDuration": 19122,
  "summary": {
    "total": 6,
    "passed": 1,
    "failed": 5,
    "requiredPassed": 1,
    "requiredTotal": 5
  },
  "results": [
    {
      "name": "Unit Tests",
      "passed": false,
      "duration": 3154,
      "errors": [
        "Command failed: npm run test:unit\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nPASS src/__tests__/dataMigrationValidation.test.ts\n  ● Console\n\n    console.log\n      Test message\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\nFAIL src/__tests__/authMiddleware.test.ts\n  ● Console\n\n    console.error\n      Authentication error: Error: Invalid token\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authMiddleware.test.ts:79:62)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      69 |     next();\n      70 |   } catch (error) {\n    > 71 |     console.error('Authentication error:', error);\n         |             ^\n      72 |     \n      73 |     // Determine error type and respond accordingly\n      74 |     let errorCode = 'INVALID_TOKEN';\n\n      at authenticateToken (src/middleware/auth.ts:71:13)\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:81:7)\n\n    console.error\n      Authentication error: Error: Token expired\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authMiddleware.test.ts:99:62)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      69 |     next();\n      70 |   } catch (error) {\n    > 71 |     console.error('Authentication error:', error);\n         |             ^\n      72 |     \n      73 |     // Determine error type and respond accordingly\n      74 |     let errorCode = 'INVALID_TOKEN';\n\n      at authenticateToken (src/middleware/auth.ts:71:13)\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:101:7)\n\n  ● Auth Middleware › authenticateToken › should return 401 when no token provided\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"MISSING_TOKEN\",\n          \"message\": \"Access token is required\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:18.967Z\",\n      },\n\n    Number of calls: 1\n\n      62 |\n      63 |       expect(mockResponse.status).toHaveBeenCalledWith(401);\n    > 64 |       expect(mockResponse.json).toHaveBeenCalledWith({\n         |                                 ^\n      65 |         success: false,\n      66 |         error: {\n      67 |           code: 'MISSING_TOKEN',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:64:33)\n\n  ● Auth Middleware › authenticateToken › should return 401 when token is invalid\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"INVALID_TOKEN\",\n          \"message\": \"Invalid access token format\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:19.013Z\",\n      },\n\n    Number of calls: 1\n\n      82 |\n      83 |       expect(mockResponse.status).toHaveBeenCalledWith(401);\n    > 84 |       expect(mockResponse.json).toHaveBeenCalledWith({\n         |                                 ^\n      85 |         success: false,\n      86 |         error: {\n      87 |           code: 'INVALID_TOKEN',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:84:33)\n\n  ● Auth Middleware › authenticateToken › should return 401 when token is expired\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"TOKEN_EXPIRED\",\n          \"message\": \"Access token has expired\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:19.014Z\",\n      },\n\n    Number of calls: 1\n\n      102 |\n      103 |       expect(mockResponse.status).toHaveBeenCalledWith(401);\n    > 104 |       expect(mockResponse.json).toHaveBeenCalledWith({\n          |                                 ^\n      105 |         success: false,\n      106 |         error: {\n      107 |           code: 'TOKEN_EXPIRED',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:104:33)\n\n  ● Auth Middleware › authenticateToken › should handle malformed authorization header\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"MISSING_TOKEN\",\n          \"message\": \"Access token is required\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:19.014Z\",\n      },\n\n    Number of calls: 1\n\n      120 |\n      121 |       expect(mockResponse.status).toHaveBeenCalledWith(401);\n    > 122 |       expect(mockResponse.json).toHaveBeenCalledWith({\n          |                                 ^\n      123 |         success: false,\n      124 |         error: {\n      125 |           code: 'MISSING_TOKEN',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:122:33)\n\n  ● Auth Middleware › authorizeRoles › should deny access for unauthorized role\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"INSUFFICIENT_PERMISSIONS\",\n          \"message\": \"Access denied. Required roles: admin, teacher\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:19.016Z\",\n      },\n\n    Number of calls: 1\n\n      161 |\n      162 |       expect(mockResponse.status).toHaveBeenCalledWith(403);\n    > 163 |       expect(mockResponse.json).toHaveBeenCalledWith({\n          |                                 ^\n      164 |         success: false,\n      165 |         error: {\n      166 |           code: 'INSUFFICIENT_PERMISSIONS',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:163:33)\n\n  ● Auth Middleware › authorizeRoles › should deny access when user has no role\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"INSUFFICIENT_PERMISSIONS\",\n          \"message\": \"Access denied. Required roles: admin\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:19.017Z\",\n      },\n\n    Number of calls: 1\n\n      183 |\n      184 |       expect(mockResponse.status).toHaveBeenCalledWith(403);\n    > 185 |       expect(mockResponse.json).toHaveBeenCalledWith({\n          |                                 ^\n      186 |         success: false,\n      187 |         error: {\n      188 |           code: 'INSUFFICIENT_PERMISSIONS',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:185:33)\n\n  ● Auth Middleware › authorizeRoles › should deny access when user is not authenticated\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n        \"error\": Object {\n          \"code\": \"UNAUTHENTICATED\",\n          \"message\": \"Authentication required\",\n        },\n    +   \"path\": undefined,\n    +   \"requestId\": undefined,\n        \"success\": false,\n    +   \"timestamp\": \"2025-09-15T08:31:19.017Z\",\n      },\n\n    Number of calls: 1\n\n      200 |\n      201 |       expect(mockResponse.status).toHaveBeenCalledWith(401);\n    > 202 |       expect(mockResponse.json).toHaveBeenCalledWith({\n          |                                 ^\n      203 |         success: false,\n      204 |         error: {\n      205 |           code: 'UNAUTHENTICATED',\n\n      at Object.<anonymous> (src/__tests__/authMiddleware.test.ts:202:33)\n\nPASS src/__tests__/meetingService.test.ts\nPASS src/__tests__/scheduleService.test.ts\nPASS src/__tests__/fileService.test.ts\nPASS src/__tests__/attendanceService.test.ts\nFAIL src/__tests__/authService.test.ts\n  ● Console\n\n    console.error\n      Login error: TypeError: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\n          at AuthService.login (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:81:32)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:75:40)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      113 |       };\n      114 |     } catch (error) {\n    > 115 |       console.error('Login error:', error);\n          |               ^\n      116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      117 |     }\n      118 |   }\n\n      at AuthService.login (src/services/authService.ts:115:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:75:40)\n\n    console.error\n      Login error: TypeError: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\n          at AuthService.login (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:81:32)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:102:21)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      113 |       };\n      114 |     } catch (error) {\n    > 115 |       console.error('Login error:', error);\n          |               ^\n      116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      117 |     }\n      118 |   }\n\n      at AuthService.login (src/services/authService.ts:115:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:102:21)\n\n    console.error\n      Login error: TypeError: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\n          at AuthService.login (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:81:32)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:113:21)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      113 |       };\n      114 |     } catch (error) {\n    > 115 |       console.error('Login error:', error);\n          |               ^\n      116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      117 |     }\n      118 |   }\n\n      at AuthService.login (src/services/authService.ts:115:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:113:21)\n\n    console.error\n      Login error: TypeError: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\n          at AuthService.login (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:81:32)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:126:21)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      113 |       };\n      114 |     } catch (error) {\n    > 115 |       console.error('Login error:', error);\n          |               ^\n      116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      117 |     }\n      118 |   }\n\n      at AuthService.login (src/services/authService.ts:115:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:126:21)\n\n    console.error\n      Sign up error: Error: Sign up failed: No user ID returned\n          at AuthService.signUp (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:153:15)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:146:22)\n\n      159 |       };\n      160 |     } catch (error) {\n    > 161 |       console.error('Sign up error:', error);\n          |               ^\n      162 |       throw new Error(`Sign up failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      163 |     }\n      164 |   }\n\n      at AuthService.signUp (src/services/authService.ts:161:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:146:22)\n\n    console.error\n      Sign up error: Error: Sign up failed: No user ID returned\n          at AuthService.signUp (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:153:15)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:167:7)\n\n      159 |       };\n      160 |     } catch (error) {\n    > 161 |       console.error('Sign up error:', error);\n          |               ^\n      162 |       throw new Error(`Sign up failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      163 |     }\n      164 |   }\n\n      at AuthService.signUp (src/services/authService.ts:161:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:167:7)\n\n    console.error\n      Confirm sign up error: Error: Incorrect username or password\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:99:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      177 |       await this.cognitoClient.send(command);\n      178 |     } catch (error) {\n    > 179 |       console.error('Confirm sign up error:', error);\n          |               ^\n      180 |       throw new Error(`Email confirmation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      181 |     }\n      182 |   }\n\n      at AuthService.confirmSignUp (src/services/authService.ts:179:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:181:7)\n\n    console.error\n      Refresh token error: TypeError: Cannot read properties of undefined (reading 'REFRESH_TOKEN_AUTH')\n          at AuthService.refreshToken (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:207:32)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:220:40)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      235 |       };\n      236 |     } catch (error) {\n    > 237 |       console.error('Refresh token error:', error);\n          |               ^\n      238 |       throw new Error(`Token refresh failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      239 |     }\n      240 |   }\n\n      at AuthService.refreshToken (src/services/authService.ts:237:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:220:40)\n\n    console.error\n      Refresh token error: TypeError: Cannot read properties of undefined (reading 'REFRESH_TOKEN_AUTH')\n          at AuthService.refreshToken (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:207:32)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:242:21)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      235 |       };\n      236 |     } catch (error) {\n    > 237 |       console.error('Refresh token error:', error);\n          |               ^\n      238 |       throw new Error(`Token refresh failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      239 |     }\n      240 |   }\n\n      at AuthService.refreshToken (src/services/authService.ts:237:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:242:21)\n\n    console.error\n      Get user from token error: Error: Failed to get user details\n          at AuthService.getUserFromToken (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:254:15)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:261:22)\n\n      270 |       };\n      271 |     } catch (error) {\n    > 272 |       console.error('Get user from token error:', error);\n          |               ^\n      273 |       throw new Error(`Failed to get user details: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      274 |     }\n      275 |   }\n\n      at AuthService.getUserFromToken (src/services/authService.ts:272:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:261:22)\n\n    console.error\n      Get user from token error: Error: Failed to get user details\n          at AuthService.getUserFromToken (/Users/kimchaewon/ClassBoard/backend/src/services/authService.ts:254:15)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:277:7)\n\n      270 |       };\n      271 |     } catch (error) {\n    > 272 |       console.error('Get user from token error:', error);\n          |               ^\n      273 |       throw new Error(`Failed to get user details: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      274 |     }\n      275 |   }\n\n      at AuthService.getUserFromToken (src/services/authService.ts:272:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:277:7)\n\n    console.error\n      Sign out error: Error: UsernameExistsException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:165:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      286 |       await this.cognitoClient.send(command);\n      287 |     } catch (error) {\n    > 288 |       console.error('Sign out error:', error);\n          |               ^\n      289 |       throw new Error(`Sign out failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      290 |     }\n      291 |   }\n\n      at AuthService.signOut (src/services/authService.ts:288:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:287:7)\n\n    console.error\n      Forgot password error: Error: CodeMismatchException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:189:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      303 |       await this.cognitoClient.send(command);\n      304 |     } catch (error) {\n    > 305 |       console.error('Forgot password error:', error);\n          |               ^\n      306 |       throw new Error(`Forgot password failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      307 |     }\n      308 |   }\n\n      at AuthService.forgotPassword (src/services/authService.ts:305:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:307:7)\n\n    console.error\n      Confirm forgot password error: Error: Refresh Token has expired\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:239:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      322 |       await this.cognitoClient.send(command);\n      323 |     } catch (error) {\n    > 324 |       console.error('Confirm forgot password error:', error);\n          |               ^\n      325 |       throw new Error(`Password reset failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      326 |     }\n      327 |   }\n\n      at AuthService.confirmForgotPassword (src/services/authService.ts:324:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:341:7)\n\n    console.error\n      Resend confirmation code error: Error: Invalid Access Token\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authService.test.ts:275:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      194 |       await this.cognitoClient.send(command);\n      195 |     } catch (error) {\n    > 196 |       console.error('Resend confirmation code error:', error);\n          |               ^\n      197 |       throw new Error(`Resend confirmation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      198 |     }\n      199 |   }\n\n      at AuthService.resendConfirmationCode (src/services/authService.ts:196:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:365:7)\n\n  ● AuthService › login › should successfully login with valid credentials\n\n    Login failed: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\n\n      114 |     } catch (error) {\n      115 |       console.error('Login error:', error);\n    > 116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n          |             ^\n      117 |     }\n      118 |   }\n      119 |\n\n      at AuthService.login (src/services/authService.ts:116:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:75:40)\n\n  ● AuthService › login › should throw error when authentication fails\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Login failed: Incorrect username or password\"\n    Received message:   \"Login failed: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\"\n\n          114 |     } catch (error) {\n          115 |       console.error('Login error:', error);\n        > 116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          117 |     }\n          118 |   }\n          119 |\n\n      at AuthService.login (src/services/authService.ts:116:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:102:21)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:106:17)\n\n  ● AuthService › login › should throw error when authentication result is missing\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Authentication failed: No authentication result\"\n    Received message:   \"Login failed: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\"\n\n          114 |     } catch (error) {\n          115 |       console.error('Login error:', error);\n        > 116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          117 |     }\n          118 |   }\n          119 |\n\n      at AuthService.login (src/services/authService.ts:116:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:113:21)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:117:17)\n\n  ● AuthService › login › should throw error when challenge is required\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Authentication challenge required: NEW_PASSWORD_REQUIRED\"\n    Received message:   \"Login failed: Cannot read properties of undefined (reading 'USER_SRP_AUTH')\"\n\n          114 |     } catch (error) {\n          115 |       console.error('Login error:', error);\n        > 116 |       throw new Error(`Login failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          117 |     }\n          118 |   }\n          119 |\n\n      at AuthService.login (src/services/authService.ts:116:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:126:21)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:130:17)\n\n  ● AuthService › signUp › should successfully sign up a new user\n\n    Sign up failed: Sign up failed: No user ID returned\n\n      160 |     } catch (error) {\n      161 |       console.error('Sign up error:', error);\n    > 162 |       throw new Error(`Sign up failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n          |             ^\n      163 |     }\n      164 |   }\n      165 |\n\n      at AuthService.signUp (src/services/authService.ts:162:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:146:22)\n\n  ● AuthService › signUp › should throw error when sign up fails\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Sign up failed: UsernameExistsException\"\n    Received message:   \"Sign up failed: Sign up failed: No user ID returned\"\n\n          160 |     } catch (error) {\n          161 |       console.error('Sign up error:', error);\n        > 162 |       throw new Error(`Sign up failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          163 |     }\n          164 |   }\n          165 |\n\n      at AuthService.signUp (src/services/authService.ts:162:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:167:7)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:173:17)\n\n  ● AuthService › confirmSignUp › should successfully confirm sign up\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [Error: Email confirmation failed: Incorrect username or password]\n\n      179 |       mockCognitoClient.send.mockResolvedValueOnce({});\n      180 |\n    > 181 |       await expect(\n          |                   ^\n      182 |         authService.confirmSignUp('test@example.com', '123456')\n      183 |       ).resolves.not.toThrow();\n      184 |\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:181:19)\n\n  ● AuthService › confirmSignUp › should throw error when confirmation fails\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: undefined\n\n      189 |       mockCognitoClient.send.mockRejectedValueOnce(new Error('CodeMismatchException'));\n      190 |\n    > 191 |       await expect(\n          |                   ^\n      192 |         authService.confirmSignUp('test@example.com', '123456')\n      193 |       ).rejects.toThrow('Email confirmation failed: CodeMismatchException');\n      194 |     });\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:191:19)\n\n  ● AuthService › refreshToken › should successfully refresh token\n\n    Token refresh failed: Cannot read properties of undefined (reading 'REFRESH_TOKEN_AUTH')\n\n      236 |     } catch (error) {\n      237 |       console.error('Refresh token error:', error);\n    > 238 |       throw new Error(`Token refresh failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n          |             ^\n      239 |     }\n      240 |   }\n      241 |\n\n      at AuthService.refreshToken (src/services/authService.ts:238:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:220:40)\n\n  ● AuthService › refreshToken › should throw error when refresh fails\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Token refresh failed: Refresh Token has expired\"\n    Received message:   \"Token refresh failed: Cannot read properties of undefined (reading 'REFRESH_TOKEN_AUTH')\"\n\n          236 |     } catch (error) {\n          237 |       console.error('Refresh token error:', error);\n        > 238 |       throw new Error(`Token refresh failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          239 |     }\n          240 |   }\n          241 |\n\n      at AuthService.refreshToken (src/services/authService.ts:238:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:242:21)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:243:17)\n\n  ● AuthService › getUserFromToken › should successfully get user from token\n\n    Failed to get user details: Failed to get user details\n\n      271 |     } catch (error) {\n      272 |       console.error('Get user from token error:', error);\n    > 273 |       throw new Error(`Failed to get user details: ${error instanceof Error ? error.message : 'Unknown error'}`);\n          |             ^\n      274 |     }\n      275 |   }\n      276 |\n\n      at AuthService.getUserFromToken (src/services/authService.ts:273:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:261:22)\n\n  ● AuthService › getUserFromToken › should throw error when token is invalid\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to get user details: Invalid Access Token\"\n    Received message:   \"Failed to get user details: Failed to get user details\"\n\n          271 |     } catch (error) {\n          272 |       console.error('Get user from token error:', error);\n        > 273 |       throw new Error(`Failed to get user details: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          274 |     }\n          275 |   }\n          276 |\n\n      at AuthService.getUserFromToken (src/services/authService.ts:273:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:277:7)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:279:17)\n\n  ● AuthService › signOut › should successfully sign out user\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [Error: Sign out failed: UsernameExistsException]\n\n      285 |       mockCognitoClient.send.mockResolvedValueOnce({});\n      286 |\n    > 287 |       await expect(\n          |                   ^\n      288 |         authService.signOut('valid-access-token')\n      289 |       ).resolves.not.toThrow();\n      290 |\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:287:19)\n\n  ● AuthService › signOut › should throw error when sign out fails\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: undefined\n\n      295 |       mockCognitoClient.send.mockRejectedValueOnce(new Error('Invalid Access Token'));\n      296 |\n    > 297 |       await expect(\n          |                   ^\n      298 |         authService.signOut('invalid-token')\n      299 |       ).rejects.toThrow('Sign out failed: Invalid Access Token');\n      300 |     });\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:297:19)\n\n  ● AuthService › forgotPassword › should successfully initiate forgot password\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [Error: Forgot password failed: CodeMismatchException]\n\n      305 |       mockCognitoClient.send.mockResolvedValueOnce({});\n      306 |\n    > 307 |       await expect(\n          |                   ^\n      308 |         authService.forgotPassword({ email: 'test@example.com' })\n      309 |       ).resolves.not.toThrow();\n      310 |\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:307:19)\n\n  ● AuthService › forgotPassword › should throw error when forgot password fails\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: undefined\n\n      315 |       mockCognitoClient.send.mockRejectedValueOnce(new Error('UserNotFoundException'));\n      316 |\n    > 317 |       await expect(\n          |                   ^\n      318 |         authService.forgotPassword({ email: 'test@example.com' })\n      319 |       ).rejects.toThrow('Forgot password failed: UserNotFoundException');\n      320 |     });\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:317:19)\n\n  ● AuthService › confirmForgotPassword › should throw error when confirm forgot password fails\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Password reset failed: CodeMismatchException\"\n    Received message:   \"Password reset failed: Refresh Token has expired\"\n\n          323 |     } catch (error) {\n          324 |       console.error('Confirm forgot password error:', error);\n        > 325 |       throw new Error(`Password reset failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          326 |     }\n          327 |   }\n          328 |\n\n      at AuthService.confirmForgotPassword (src/services/authService.ts:325:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:341:7)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:347:17)\n\n  ● AuthService › resendConfirmationCode › should throw error when resend fails\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Resend confirmation failed: UserNotFoundException\"\n    Received message:   \"Resend confirmation failed: Invalid Access Token\"\n\n          195 |     } catch (error) {\n          196 |       console.error('Resend confirmation code error:', error);\n        > 197 |       throw new Error(`Resend confirmation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n              |             ^\n          198 |     }\n          199 |   }\n          200 |\n\n      at AuthService.resendConfirmationCode (src/services/authService.ts:197:13)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:365:7)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/authService.test.ts:367:17)\n\nPASS src/__tests__/test-infrastructure.test.ts\nPASS src/__tests__/assessmentService.test.ts\nPASS src/__tests__/studentService.test.ts\nFAIL src/__tests__/classService.test.ts\n  ● Console\n\n    console.log\n      Cache SET for classes:class:1:relations:enrollments,students\n\n      at Function.set (src/services/cacheService.ts:64:13)\n\n    console.log\n      Cache HIT for classes:class:1:relations:enrollments,students\n\n      at Function.get (src/services/cacheService.ts:48:15)\n\n    console.log\n      Cache CLEAR for classes\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for students\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for tests\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for homework\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for attendance\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for schedules\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache INVALIDATE related entries for classes:1\n\n      at Function.invalidateRelated (src/services/cacheService.ts:157:15)\n\n    console.log\n      Cache CLEAR for students\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for tests\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for homework\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for attendance\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for schedules\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache INVALIDATE related entries for classes:class1\n\n      at Function.invalidateRelated (src/services/cacheService.ts:157:15)\n\n    console.log\n      Cache CLEAR for students\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for tests\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for homework\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for attendance\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for schedules\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache INVALIDATE related entries for students:student1\n\n      at Function.invalidateRelated (src/services/cacheService.ts:157:15)\n\n    console.log\n      Cache CLEAR for classes\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for tests\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for homework\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n    console.log\n      Cache CLEAR for attendance\n\n      at Function.clear (src/services/cacheService.ts:92:13)\n\n  ● ClassService › getClassById › should return a class by ID\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    @@ -5,11 +5,28 @@\n              \"enrollments\": true,\n            },\n          },\n          \"enrollments\": Object {\n            \"include\": Object {\n    -         \"student\": true,\n    +         \"student\": Object {\n    +           \"select\": Object {\n    +             \"createdAt\": true,\n    +             \"email\": true,\n    +             \"enrollmentDate\": true,\n    +             \"grade\": true,\n    +             \"id\": true,\n    +             \"name\": true,\n    +             \"parentContact\": true,\n    +             \"phone\": true,\n    +             \"updatedAt\": true,\n    +           },\n    +         },\n    +       },\n    +       \"orderBy\": Object {\n    +         \"student\": Object {\n    +           \"name\": \"asc\",\n    +         },\n            },\n          },\n        },\n        \"where\": Object {\n          \"id\": \"1\",,\n\n    Number of calls: 1\n\n      105 |\n      106 |       expect(result).toEqual(mockClass);\n    > 107 |       expect(mockPrisma.class.findUnique).toHaveBeenCalledWith({\n          |                                           ^\n      108 |         where: { id: '1' },\n      109 |         include: {\n      110 |           enrollments: {\n\n      at Object.<anonymous> (src/__tests__/classService.test.ts:107:43)\n\n  ● ClassService › getClassById › should throw DatabaseError when Prisma fails\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: {\"_count\": {\"enrollments\": 0}, \"capacity\": 30, \"color\": \"#FF5733\", \"createdDate\": \"2024-01-15\", \"description\": \"Basic math\", \"enrollments\": [], \"id\": \"1\", \"name\": \"Math 101\", \"room\": \"A101\", \"subject\": \"Mathematics\"}\n\n      132 |       mockPrisma.class.findUnique.mockRejectedValue(error);\n      133 |\n    > 134 |       await expect(classService.getClassById('1')).rejects.toThrow(DatabaseError);\n          |                   ^\n      135 |     });\n      136 |   });\n      137 |\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:134:19)\n\n  ● ClassService › enrollStudent › should enroll a student in a class\n\n    Failed to enroll student\n\n      483 |         throw error;\n      484 |       }\n    > 485 |       throw new DatabaseError('Failed to enroll student', error);\n          |             ^\n      486 |     }\n      487 |   }\n      488 |\n\n      at ClassService.enrollStudent (src/services/classService.ts:485:13)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:295:41)\n\n  ● ClassService › enrollStudent › should throw NotFoundError when class does not exist\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected constructor: NotFoundError\n    Received constructor: DatabaseError\n\n    Received message: \"Failed to enroll student\"\n\n          483 |         throw error;\n          484 |       }\n        > 485 |       throw new DatabaseError('Failed to enroll student', error);\n              |             ^\n          486 |     }\n          487 |   }\n          488 |\n\n      at ClassService.enrollStudent (src/services/classService.ts:485:13)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:309:33)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:309:83)\n\n  ● ClassService › enrollStudent › should throw NotFoundError when student does not exist\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected constructor: NotFoundError\n    Received constructor: DatabaseError\n\n    Received message: \"Failed to enroll student\"\n\n          483 |         throw error;\n          484 |       }\n        > 485 |       throw new DatabaseError('Failed to enroll student', error);\n              |             ^\n          486 |     }\n          487 |   }\n          488 |\n\n      at ClassService.enrollStudent (src/services/classService.ts:485:13)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:317:33)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:317:81)\n\n  ● ClassService › enrollStudent › should throw ConflictError when class is at capacity\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected constructor: ConflictError\n    Received constructor: DatabaseError\n\n    Received message: \"Failed to enroll student\"\n\n          483 |         throw error;\n          484 |       }\n        > 485 |       throw new DatabaseError('Failed to enroll student', error);\n              |             ^\n          486 |     }\n          487 |   }\n          488 |\n\n      at ClassService.enrollStudent (src/services/classService.ts:485:13)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:331:33)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:331:78)\n\n  ● ClassService › enrollStudent › should throw ConflictError when student is already enrolled\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected constructor: ConflictError\n    Received constructor: DatabaseError\n\n    Received message: \"Failed to enroll student\"\n\n          483 |         throw error;\n          484 |       }\n        > 485 |       throw new DatabaseError('Failed to enroll student', error);\n              |             ^\n          486 |     }\n          487 |   }\n          488 |\n\n      at ClassService.enrollStudent (src/services/classService.ts:485:13)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:351:33)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.<anonymous> (src/__tests__/classService.test.ts:351:78)\n\nPASS src/__tests__/authRoutes.test.ts\n  ● Console\n\n    console.error\n      Login route error: Error: Incorrect username or password\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:79:51)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      27 |     });\n      28 |   } catch (error) {\n    > 29 |     console.error('Login route error:', error);\n         |             ^\n      30 |     \n      31 |     let statusCode = 401;\n      32 |     let errorCode = 'LOGIN_FAILED';\n\n      at src/routes/auth.ts:29:13\n\n    console.error\n      Login route error: Error: User is not confirmed\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:99:51)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      27 |     });\n      28 |   } catch (error) {\n    > 29 |     console.error('Login route error:', error);\n         |             ^\n      30 |     \n      31 |     let statusCode = 401;\n      32 |     let errorCode = 'LOGIN_FAILED';\n\n      at src/routes/auth.ts:29:13\n\n    console.error\n      Login route error: Error: Password attempts exceeded\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:119:51)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      27 |     });\n      28 |   } catch (error) {\n    > 29 |     console.error('Login route error:', error);\n         |             ^\n      30 |     \n      31 |     let statusCode = 401;\n      32 |     let errorCode = 'LOGIN_FAILED';\n\n      at src/routes/auth.ts:29:13\n\n    console.error\n      Signup route error: Error: UsernameExistsException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:175:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      80 |     });\n      81 |   } catch (error) {\n    > 82 |     console.error('Signup route error:', error);\n         |             ^\n      83 |     \n      84 |     let statusCode = 400;\n      85 |     let errorCode = 'SIGNUP_FAILED';\n\n      at src/routes/auth.ts:82:13\n\n    console.error\n      Signup route error: Error: InvalidPasswordException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:196:52)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      80 |     });\n      81 |   } catch (error) {\n    > 82 |     console.error('Signup route error:', error);\n         |             ^\n      83 |     \n      84 |     let statusCode = 400;\n      85 |     let errorCode = 'SIGNUP_FAILED';\n\n      at src/routes/auth.ts:82:13\n\n    console.error\n      Confirm signup route error: Error: CodeMismatchException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:237:59)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      125 |     });\n      126 |   } catch (error) {\n    > 127 |     console.error('Confirm signup route error:', error);\n          |             ^\n      128 |     \n      129 |     let statusCode = 400;\n      130 |     let errorCode = 'CONFIRMATION_FAILED';\n\n      at src/routes/auth.ts:127:13\n\n    console.error\n      Confirm signup route error: Error: ExpiredCodeException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:257:59)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      125 |     });\n      126 |   } catch (error) {\n    > 127 |     console.error('Confirm signup route error:', error);\n          |             ^\n      128 |     \n      129 |     let statusCode = 400;\n      130 |     let errorCode = 'CONFIRMATION_FAILED';\n\n      at src/routes/auth.ts:127:13\n\n    console.error\n      Refresh token route error: Error: Refresh Token has expired\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:312:58)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      214 |     });\n      215 |   } catch (error) {\n    > 216 |     console.error('Refresh token route error:', error);\n          |             ^\n      217 |     \n      218 |     let statusCode = 401;\n      219 |     let errorCode = 'REFRESH_FAILED';\n\n      at src/routes/auth.ts:216:13\n\n    console.error\n      Forgot password route error: Error: UserNotFoundException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:352:60)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      326 |     });\n      327 |   } catch (error) {\n    > 328 |     console.error('Forgot password route error:', error);\n          |             ^\n      329 |     \n      330 |     // Always return success for security reasons (don't reveal if email exists)\n      331 |     res.json({\n\n      at src/routes/auth.ts:328:13\n\n    console.error\n      Reset password route error: Error: CodeMismatchException\n          at Object.<anonymous> (/Users/kimchaewon/ClassBoard/backend/src/__tests__/authRoutes.test.ts:393:67)\n          at Promise.then.completed (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:298:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/utils.js:231:10)\n          at _callCircusTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:316:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:252:3)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:126:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at _runTestsForDescribeBlock (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:121:9)\n          at run (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/run.js:71:3)\n          at runAndTransformResultsToJestFormat (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n          at jestAdapter (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n          at runTestInternal (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/Users/kimchaewon/ClassBoard/backend/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      351 |     });\n      352 |   } catch (error) {\n    > 353 |     console.error('Reset password route error:', error);\n          |             ^\n      354 |     \n      355 |     let statusCode = 400;\n      356 |     let errorCode = 'RESET_FAILED';\n\n      at src/routes/auth.ts:353:13\n\nFAIL src/__tests__/errorHandlingMonitoring.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/server.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/assessmentRoutes.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/security.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/dataMigrationService.test.ts\n  ● Console\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-19-368Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 291ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Input validation failed: 6 errors found\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-19-715Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 0 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 0 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 0 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 0 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 0 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 0 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 0 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 0 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 0 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 0 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":0,\"classes\":0,\"enrollments\":0,\"schedules\":0,\"tests\":0,\"homeworkAssignments\":0}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Migration validation failed: Error: Migration validation failed: Missing core data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Data migration failed: Error: Migration validation failed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔄 Starting rollback to backup: backup-2025-09-15T08-31-19-715Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      ✅ Rollback completed successfully\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔄 Successfully rolled back to backup: backup-2025-09-15T08-31-19-715Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-19-862Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 171ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-066Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 113ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":0,\"students\":0,\"classes\":0,\"enrollments\":0,\"schedules\":0,\"tests\":0,\"homeworkAssignments\":0}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Migration validation failed: Error: Migration validation failed: Missing core data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧪 Starting migration tests...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-225Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 0 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 0 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 0 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 0 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 0 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 0 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 0 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 0 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 0 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 0 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":0,\"classes\":0,\"enrollments\":0,\"schedules\":0,\"tests\":0,\"homeworkAssignments\":0}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Migration validation failed: Error: Migration validation failed: Missing core data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Data migration failed: Error: Migration validation failed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔄 Starting rollback to backup: backup-2025-09-15T08-31-20-225Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      ✅ Rollback completed successfully\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔄 Successfully rolled back to backup: backup-2025-09-15T08-31-20-225Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Input validation failed: 2 errors found\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration tests completed: 2 tests run\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-303Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 93ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔄 Starting rollback to backup: backup-2025-09-15T08-31-20-303Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      ✅ Rollback completed successfully\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-439Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 100ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Input validation failed: 1 errors found\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Input validation failed: 1 errors found\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ❌ Input validation failed: 2 errors found\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-630Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 39ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-679Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 30ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🚀 Starting complete data migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📦 Created backup: backup-2025-09-15T08-31-20-714Z\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🧹 Clearing existing data...\n\n      at DataMigrationService.clearExistingData (src/services/dataMigrationService.ts:338:13)\n\n    console.log\n      🧹 Cleared existing data\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Created default user\n\n      at DataMigrationService.createDefaultUser (src/services/dataMigrationService.ts:369:13)\n\n    console.log\n      👤 Created default user\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.migrateStudents (src/services/dataMigrationService.ts:389:13)\n\n    console.log\n      ✅ Migrated 2 students\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.migrateClasses (src/services/dataMigrationService.ts:410:13)\n\n    console.log\n      ✅ Migrated 1 classes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 2 class enrollments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.migrateSchedules (src/services/dataMigrationService.ts:447:13)\n\n    console.log\n      ✅ Migrated 1 schedules\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.migrateScheduleExceptions (src/services/dataMigrationService.ts:467:13)\n\n    console.log\n      ✅ Migrated 0 schedule exceptions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.migrateTests (src/services/dataMigrationService.ts:570:13)\n\n    console.log\n      ✅ Migrated 1 tests\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.migrateTestResults (src/services/dataMigrationService.ts:595:13)\n\n    console.log\n      ✅ Migrated 1 test results\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.migrateHomeworkAssignments (src/services/dataMigrationService.ts:619:13)\n\n    console.log\n      ✅ Migrated 1 homework assignments\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.migrateHomeworkSubmissions (src/services/dataMigrationService.ts:645:13)\n\n    console.log\n      ✅ Migrated 1 homework submissions\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.migrateAttendanceRecords (src/services/dataMigrationService.ts:524:13)\n\n    console.log\n      ✅ Migrated 1 attendance records\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.migrateClassNotes (src/services/dataMigrationService.ts:546:13)\n\n    console.log\n      ✅ Migrated 1 class notes\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.migrateMeetings (src/services/dataMigrationService.ts:493:13)\n\n    console.log\n      ✅ Migrated 1 meetings\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      🔍 Validating migration...\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      📊 Migration summary: {\"users\":1,\"students\":2,\"classes\":1,\"enrollments\":2,\"schedules\":1,\"tests\":1,\"homeworkAssignments\":1}\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Migration validation passed\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n    console.log\n      ✅ Data migration completed successfully in 24ms\n\n      at DataMigrationService.log (src/services/dataMigrationService.ts:941:13)\n\n  ● DataMigrationService › migrateAllData › should handle empty data gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      271 |       const result = await migrationService.migrateAllData(emptyData)\n      272 |\n    > 273 |       expect(result.success).toBe(true)\n          |                              ^\n      274 |       expect(result.summary?.students).toBe(0)\n      275 |       expect(result.summary?.classes).toBe(0)\n      276 |     })\n\n      at Object.<anonymous> (src/__tests__/dataMigrationService.test.ts:273:30)\n\n  ● DataMigrationService › rollback functionality › should create backup and allow rollback\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 2\n    Received: 0\n\n      344 |         // Verify data was restored\n      345 |         const restoredStudentCount = await prisma.student.count()\n    > 346 |         expect(restoredStudentCount).toBe(initialStudentCount)\n          |                                      ^\n      347 |       }\n      348 |     })\n      349 |   })\n\n      at Object.<anonymous> (src/__tests__/dataMigrationService.test.ts:346:38)\n\nTest Suites: 8 failed, 9 passed, 17 total\nTests:       34 failed, 185 passed, 219 total\nSnapshots:   0 total\nTime:        2.711 s, estimated 5 s\nRan all test suites matching /src\\/__tests__\\/(?!integration|e2e|performance).*\\.test\\.ts$/i.\n"
      ]
    },
    {
      "name": "Integration Tests",
      "passed": false,
      "duration": 2868,
      "errors": [
        "Command failed: npm run test:integration\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nPASS src/__tests__/integration/classes.integration.test.ts\nFAIL src/__tests__/integration/files.integration.test.ts\n  ● Console\n\n    console.log\n      File security scan completed in 69ms for test.pdf\n\n      at FileSecurityService.scanFile (src/services/fileSecurityService.ts:121:13)\n\n    console.log\n      File security scan completed in 51ms for test.pdf\n\n      at FileSecurityService.scanFile (src/services/fileSecurityService.ts:121:13)\n\n  ● File API Integration Tests › POST /api/files/upload › should upload file successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 201\n    Received: 400\n\n      64 |         .field('isPublic', 'false');\n      65 |\n    > 66 |       expect(response.status).toBe(201);\n         |                               ^\n      67 |       expect(response.body).toEqual({\n      68 |         success: true,\n      69 |         data: mockUploadResult,\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:66:31)\n\n  ● File API Integration Tests › POST /api/files/upload › should handle upload service errors\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 500\n    Received: 400\n\n      115 |         .field('entityId', validEntityId);\n      116 |\n    > 117 |       expect(response.status).toBe(500);\n          |                               ^\n      118 |       expect(response.body.success).toBe(false);\n      119 |       expect(response.body.error.code).toBe('UPLOAD_ERROR');\n      120 |     });\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:117:31)\n\n  ● File API Integration Tests › DELETE /api/files/:fileId › should delete file successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 200\n    Received: 400\n\n      243 |         .delete('/api/files/file-123');\n      244 |\n    > 245 |       expect(response.status).toBe(200);\n          |                               ^\n      246 |       expect(response.body).toEqual({\n      247 |         success: true,\n      248 |         message: 'File deleted successfully',\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:245:31)\n\n  ● File API Integration Tests › DELETE /api/files/:fileId › should return 404 when file not found\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 404\n    Received: 400\n\n      258 |         .delete('/api/files/non-existent-file');\n      259 |\n    > 260 |       expect(response.status).toBe(404);\n          |                               ^\n      261 |       expect(response.body.success).toBe(false);\n      262 |       expect(response.body.error.code).toBe('FILE_NOT_FOUND');\n      263 |     });\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:260:31)\n\n  ● File API Integration Tests › DELETE /api/files/:fileId › should handle delete service errors\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 500\n    Received: 400\n\n      269 |         .delete('/api/files/file-123');\n      270 |\n    > 271 |       expect(response.status).toBe(500);\n          |                               ^\n      272 |       expect(response.body.success).toBe(false);\n      273 |       expect(response.body.error.code).toBe('SERVER_ERROR');\n      274 |     });\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:271:31)\n\n  ● File API Integration Tests › GET /api/files/entity/:entityType/:entityId › should return files for entity\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 200\n    Received: 400\n\n      309 |         .get('/api/files/entity/test/test-entity-123');\n      310 |\n    > 311 |       expect(response.status).toBe(200);\n          |                               ^\n      312 |       expect(response.body.success).toBe(true);\n      313 |       expect(response.body.data).toHaveLength(2);\n      314 |       expect(response.body.data[0].id).toBe('file-1');\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:311:31)\n\n  ● File API Integration Tests › GET /api/files/entity/:entityType/:entityId › should return empty array when no files found\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 200\n    Received: 400\n\n      324 |         .get('/api/files/entity/test/test-entity-123');\n      325 |\n    > 326 |       expect(response.status).toBe(200);\n          |                               ^\n      327 |       expect(response.body.success).toBe(true);\n      328 |       expect(response.body.data).toEqual([]);\n      329 |     });\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:326:31)\n\n  ● File API Integration Tests › POST /api/files/upload-multiple › should upload multiple files successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 201\n    Received: 400\n\n      379 |         .field('isPublic', 'false');\n      380 |\n    > 381 |       expect(response.status).toBe(201);\n          |                               ^\n      382 |       expect(response.body.success).toBe(true);\n      383 |       expect(response.body.data).toHaveLength(2);\n      384 |       expect(response.body.message).toBe('2 files uploaded successfully');\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:381:31)\n\n  ● File API Integration Tests › POST /api/files/upload-multiple › should handle partial upload failures\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 500\n    Received: 400\n\n      414 |         .field('entityId', 'test-entity-123');\n      415 |\n    > 416 |       expect(response.status).toBe(500);\n          |                               ^\n      417 |       expect(response.body.success).toBe(false);\n      418 |       expect(response.body.error.code).toBe('UPLOAD_ERROR');\n      419 |     });\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:416:31)\n\n  ● File API Integration Tests › Authentication › should require authentication for all endpoints\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 401\n    Received: 400\n\n      468 |             throw new Error(`Unsupported method: ${endpoint.method}`);\n      469 |         }\n    > 470 |         expect(response.status).toBe(401);\n          |                                 ^\n      471 |         expect(response.body.error.code).toBe('UNAUTHORIZED');\n      472 |       }\n      473 |     });\n\n      at Object.<anonymous> (src/__tests__/integration/files.integration.test.ts:470:33)\n\nFAIL src/__tests__/integration/classesApi.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/integration/auth.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/integration/assessments.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/integration/meetings.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/integration/students.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/integration/schedules.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/integration/attendance.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nTest Suites: 8 failed, 1 passed, 9 total\nTests:       10 failed, 13 passed, 23 total\nSnapshots:   0 total\nTime:        2.574 s, estimated 5 s\nRan all test suites matching /src\\/__tests__\\/integration\\/.*\\.test\\.ts$/i.\n"
      ]
    },
    {
      "name": "End-to-End Tests",
      "passed": false,
      "duration": 1213,
      "errors": [
        "Command failed: npm run test:e2e\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nFAIL src/__tests__/e2e/user-workflows.e2e.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0.988 s\nRan all test suites matching /src\\/__tests__\\/e2e\\/.*\\.test\\.ts$/i.\n"
      ]
    },
    {
      "name": "Performance Tests",
      "passed": false,
      "duration": 1258,
      "errors": [
        "Command failed: npm run test:performance\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nFAIL src/__tests__/performance/performance-optimization.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nFAIL src/__tests__/performance/api-performance.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nTest Suites: 2 failed, 2 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1.04 s\nRan all test suites matching /src\\/__tests__\\/performance\\/.*\\.test\\.ts$/i.\n"
      ]
    },
    {
      "name": "Security Tests",
      "passed": false,
      "duration": 694,
      "errors": [
        "Command failed: npm test -- --testPathPattern=security.test.ts\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nFAIL src/__tests__/security.test.ts\n  ● Test suite failed to run\n\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m28\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m28\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m54\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m  \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m186\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType '(chunk?: any, encoding?: BufferEncoding | undefined, cb?: (() => void) | undefined) => Response<any, Record<string, any>>' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.\n      Types of parameters 'encoding' and 'cb' are incompatible.\n        Type '(() => void) | undefined' is not assignable to type 'BufferEncoding | undefined'.\n          Type '() => void' is not assignable to type 'BufferEncoding | undefined'.\n\n    \u001b[7m186\u001b[0m     res.end = function(chunk?: any, encoding?: BufferEncoding, cb?: () => void) {\n    \u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~\u001b[0m\n    \u001b[96msrc/middleware/performanceMonitoring.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m44\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'BufferEncoding | undefined' is not assignable to parameter of type 'BufferEncoding'.\n      Type 'undefined' is not assignable to type 'BufferEncoding'.\n\n    \u001b[7m210\u001b[0m       return originalEnd.call(this, chunk, encoding, cb);\n    \u001b[7m   \u001b[0m \u001b[91m                                           ~~~~~~~~\u001b[0m\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0.489 s\nRan all test suites matching /security.test.ts/i.\n"
      ]
    },
    {
      "name": "Migration Tests",
      "passed": true,
      "duration": 400
    }
  ],
  "recommendations": {
    "readyForDeployment": false,
    "criticalIssues": [
      "Unit Tests",
      "Integration Tests",
      "End-to-End Tests",
      "Security Tests"
    ],
    "coverageIssues": []
  }
}